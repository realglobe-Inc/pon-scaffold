language: node_js
node_js:
- '7'
before_install:
# TODO OSS
# - npm i npm-cli-login -g
# - npm-cli-login -u "${NPM_USER}" -p "${NPM_PASSWORD}" -e "${NPM_EMAIL}"
# - npm who
- echo "registry = https://realglobe.artifactoryonline.com/realglobe/api/npm/npm-virtual" > $HOME/.npmrc
- curl -u${NPM_USER}:${NPM_PASSWORD} "https://realglobe.artifactoryonline.com/realglobe/api/npm/auth" >> $HOME/.npmrc
- cat $HOME/.npmrc
install:
- npm install
before_script:
- npm link .
script:
- ./ci/tmplify.js
- ./ci/build.js
- ./ci/test.js
after_success:
- ./ci/travis/commit_push.js
- ./ci/travis/publish.js

after_success:
- ./ci/travis/publish.js
env:
  secure: "LHJL/JRv3WQm89RDOPaIvYq4Sel700LKD1uWKghg+QD4w2PDwCcI7JyMh4xOEEyOsGI33BdGeFBT5CVc1zeN/Rf7a6TbgAqTHHRMSJJV3pgSjLEUbyi951RWON02XBO0qfTiFTynNrEqVijWReWzgSAPFV9r5sJXtKjhulklI+q43ZyZwshkIth007OQXHNUZIClPx80u+mHW2Q5iNo4AImi9FrgIl7rd7c4YAnu8gAiOnD1H3/gkVt8oi+ny8lkKst+yt04P3QN35GGJVc7gCr5b99/30lMpjA78vQ7HNNM7WzTuMp5ACpZHNQdDQSdPqonvIdp+dxo/X7B8SokBGJvXpdRwTCNgBaIQ0eVqcTfRvJ9rlySbJt9a+Prk7N2Wif6cc8j9W54KOSADj61EdeaIFXpIWt4x5wAXjWE8i+WCi/sjcYu6gg+iaqbintPVTt7AMMBRGxJRDIT7AMeTKhaLhKPMn3PvVTdXMGuqWD7r8AE5kNZIuj3QLCjQ9g1XfPwcGi6vFvA+dq3ehI1tKHBqYVdbfNyTnFTZJGBg72z/idSNL3Hj1Qbo/mU9rtSS84y8FjPPoU2Vg7aIXFN6lpFotj6a2RD/pwmSCFGg/2QdVBEJJGelafgNHyZ11QCL3c5r1li5NEFwYglfZ5pkIVt2XGKTpfH2ty2vfObT1k="
env:
  secure: "n3vZmyVfdmVeinPwUsgiVMDWjV/8x+OfjXQ1A1HTjQEX+13eR55g3qVQWk9VbBuu9zhHkxM8aAqsSX3tTRG874TD2C3Kmzlx15YqyutsQPlHusDr1v3eQYGbwdYjsJRZ0Y7YdAQ04DYJVrf79pN2m8m5EVRT14xCh+jvz+Cfm1BzAamy+3g6hIJOzCInagnCUMbSv9Q/86cjInUn69XSoSvHtfN1ZvSrZPsb4Ie3JTsJdz18G6psg65+uwasQfEKuOT/1MuW+bxaxV7/p0P7EFRZBt5ty/HQxlGSRN7VR56mdCrypwCXR0Oa204B/os+dK6+hEGenqF7vf8xZyKFtrRrltdQFIJYmgXPxwCmM0+hJ5rgbUcgx31QkaX2Fx719LF9t7cop5REMvSLl2UoM9MxBsiEU7nA4d855OAzlujLpVPAVYBRgvvpedYbqLfvpGzEo+SQTS+hBIWnLG2QRXtQt7LWaM17q9SL4eXBGd68PfFI3mCl6j2+k0Z+mC88lF56XgJo1mxZ6rACA/IG8EtOh5wPWtRhG/p0J0hhg+lqM0TDFe5mFlwtmVonIlM7CRy2MM96hDhhtyVMXhio1oe9cYoRjpfhWfLjmNbpwcddQjiWI/r1jlDQ6063QXPoD+7Ti2iJX41NaRNDImSCghjUiOoT7JgPFdhww4HFzs4="
